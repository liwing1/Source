/* This file was generated automatically by generate-phase-shift-table */
#include <inttypes.h>

#include <emeter-toolkit.h>

#include "emeter-metrology.h"

#include "emeter-metrology-internal.h"

#if !defined(__HAS_SD_ADC__)  ||  defined(REACTIVE_POWER_BY_QUADRATURE_SUPPORT)

/* This FIR table is used to create accurate 90 degree phase shifts */

/* FIR coefficients to correct specific phase shift angles at 50.00Hz
   and sampling 4096.00 times per second. There are 256 steps
   in this table. */

#if SAMPLES_PER_10_SECONDS != 40960
#error This FIR table is for 4096.00 samples per second.
#endif
#if MAINS_NOMINAL_FREQUENCY != 50
//#error This FIR table is for 50.00Hz.
#endif
#if PHASE_SHIFT_FIR_TABLE_ELEMENTS != 256
#error This FIR table is for 256 steps per sample.
#endif

const int16_t phase_shift_fir_coeffs[256][2] =
{
    {  32767,   8198 }, /*   0:  2.1973 deg */
    {  32260,   8261 }, /*   1:  2.1801 deg */
    {  31761,   8325 }, /*   2:  2.1629 deg */
    {  31269,   8389 }, /*   3:  2.1458 deg */
    {  30784,   8453 }, /*   4:  2.1286 deg */
    {  30307,   8517 }, /*   5:  2.1114 deg */
    {  29837,   8581 }, /*   6:  2.0943 deg */
    {  29374,   8645 }, /*   7:  2.0771 deg */
    {  28918,   8709 }, /*   8:  2.0599 deg */
    {  28468,   8773 }, /*   9:  2.0428 deg */
    {  28025,   8837 }, /*  10:  2.0256 deg */
    {  27588,   8901 }, /*  11:  2.0084 deg */
    {  27158,   8965 }, /*  12:  1.9913 deg */
    {  26733,   9029 }, /*  13:  1.9741 deg */
    {  26315,   9093 }, /*  14:  1.9569 deg */
    {  25902,   9157 }, /*  15:  1.9398 deg */
    {  25495,   9221 }, /*  16:  1.9226 deg */
    {  25094,   9285 }, /*  17:  1.9054 deg */
    {  24698,   9349 }, /*  18:  1.8883 deg */
    {  24307,   9413 }, /*  19:  1.8711 deg */
    {  23922,   9476 }, /*  20:  1.8539 deg */
    {  23542,   9540 }, /*  21:  1.8368 deg */
    {  23167,   9604 }, /*  22:  1.8196 deg */
    {  22797,   9668 }, /*  23:  1.8024 deg */
    {  22432,   9732 }, /*  24:  1.7853 deg */
    {  22072,   9796 }, /*  25:  1.7681 deg */
    {  21716,   9860 }, /*  26:  1.7509 deg */
    {  21365,   9924 }, /*  27:  1.7338 deg */
    {  21018,   9988 }, /*  28:  1.7166 deg */
    {  20676,  10052 }, /*  29:  1.6994 deg */
    {  20338,  10116 }, /*  30:  1.6823 deg */
    {  20004,  10180 }, /*  31:  1.6651 deg */
    {  19675,  10244 }, /*  32:  1.6479 deg */
    {  19349,  10308 }, /*  33:  1.6308 deg */
    {  19028,  10372 }, /*  34:  1.6136 deg */
    {  18710,  10436 }, /*  35:  1.5965 deg */
    {  18397,  10499 }, /*  36:  1.5793 deg */
    {  18087,  10563 }, /*  37:  1.5621 deg */
    {  17781,  10627 }, /*  38:  1.5450 deg */
    {  17478,  10691 }, /*  39:  1.5278 deg */
    {  17179,  10755 }, /*  40:  1.5106 deg */
    {  16884,  10819 }, /*  41:  1.4935 deg */
    {  16592,  10883 }, /*  42:  1.4763 deg */
    {  16304,  10947 }, /*  43:  1.4591 deg */
    {  16019,  11011 }, /*  44:  1.4420 deg */
    {  15737,  11075 }, /*  45:  1.4248 deg */
    {  15458,  11139 }, /*  46:  1.4076 deg */
    {  15183,  11203 }, /*  47:  1.3905 deg */
    {  14910,  11267 }, /*  48:  1.3733 deg */
    {  14641,  11331 }, /*  49:  1.3561 deg */
    {  14375,  11395 }, /*  50:  1.3390 deg */
    {  14112,  11459 }, /*  51:  1.3218 deg */
    {  13851,  11522 }, /*  52:  1.3046 deg */
    {  13594,  11586 }, /*  53:  1.2875 deg */
    {  13339,  11650 }, /*  54:  1.2703 deg */
    {  13087,  11714 }, /*  55:  1.2531 deg */
    {  12838,  11778 }, /*  56:  1.2360 deg */
    {  12592,  11842 }, /*  57:  1.2188 deg */
    {  12348,  11906 }, /*  58:  1.2016 deg */
    {  12107,  11970 }, /*  59:  1.1845 deg */
    {  11868,  12034 }, /*  60:  1.1673 deg */
    {  11632,  12098 }, /*  61:  1.1501 deg */
    {  11398,  12162 }, /*  62:  1.1330 deg */
    {  11167,  12226 }, /*  63:  1.1158 deg */
    {  10938,  12290 }, /*  64:  1.0986 deg */
    {  10712,  12354 }, /*  65:  1.0815 deg */
    {  10488,  12418 }, /*  66:  1.0643 deg */
    {  10266,  12482 }, /*  67:  1.0471 deg */
    {  10046,  12546 }, /*  68:  1.0300 deg */
    {   9829,  12609 }, /*  69:  1.0128 deg */
    {   9614,  12673 }, /*  70:  0.9956 deg */
    {   9401,  12737 }, /*  71:  0.9785 deg */
    {   9190,  12801 }, /*  72:  0.9613 deg */
    {   8981,  12865 }, /*  73:  0.9441 deg */
    {   8774,  12929 }, /*  74:  0.9270 deg */
    {   8569,  12993 }, /*  75:  0.9098 deg */
    {   8367,  13057 }, /*  76:  0.8926 deg */
    {   8166,  13121 }, /*  77:  0.8755 deg */
    {   7967,  13185 }, /*  78:  0.8583 deg */
    {   7770,  13249 }, /*  79:  0.8411 deg */
    {   7575,  13313 }, /*  80:  0.8240 deg */
    {   7382,  13377 }, /*  81:  0.8068 deg */
    {   7191,  13441 }, /*  82:  0.7896 deg */
    {   7001,  13505 }, /*  83:  0.7725 deg */
    {   6814,  13569 }, /*  84:  0.7553 deg */
    {   6628,  13633 }, /*  85:  0.7381 deg */
    {   6443,  13697 }, /*  86:  0.7210 deg */
    {   6261,  13761 }, /*  87:  0.7038 deg */
    {   6080,  13824 }, /*  88:  0.6866 deg */
    {   5901,  13888 }, /*  89:  0.6695 deg */
    {   5723,  13952 }, /*  90:  0.6523 deg */
    {   5547,  14016 }, /*  91:  0.6351 deg */
    {   5373,  14080 }, /*  92:  0.6180 deg */
    {   5200,  14144 }, /*  93:  0.6008 deg */
    {   5029,  14208 }, /*  94:  0.5836 deg */
    {   4859,  14272 }, /*  95:  0.5665 deg */
    {   4691,  14336 }, /*  96:  0.5493 deg */
    {   4524,  14400 }, /*  97:  0.5322 deg */
    {   4359,  14464 }, /*  98:  0.5150 deg */
    {   4195,  14528 }, /*  99:  0.4978 deg */
    {   4033,  14592 }, /* 100:  0.4807 deg */
    {   3872,  14656 }, /* 101:  0.4635 deg */
    {   3712,  14720 }, /* 102:  0.4463 deg */
    {   3554,  14784 }, /* 103:  0.4292 deg */
    {   3397,  14848 }, /* 104:  0.4120 deg */
    {   3242,  14912 }, /* 105:  0.3948 deg */
    {   3088,  14976 }, /* 106:  0.3777 deg */
    {   2935,  15040 }, /* 107:  0.3605 deg */
    {   2783,  15104 }, /* 108:  0.3433 deg */
    {   2633,  15168 }, /* 109:  0.3262 deg */
    {   2484,  15232 }, /* 110:  0.3090 deg */
    {   2336,  15296 }, /* 111:  0.2918 deg */
    {   2190,  15360 }, /* 112:  0.2747 deg */
    {   2044,  15424 }, /* 113:  0.2575 deg */
    {   1900,  15488 }, /* 114:  0.2403 deg */
    {   1757,  15552 }, /* 115:  0.2232 deg */
    {   1615,  15616 }, /* 116:  0.2060 deg */
    {   1475,  15680 }, /* 117:  0.1888 deg */
    {   1335,  15744 }, /* 118:  0.1717 deg */
    {   1197,  15808 }, /* 119:  0.1545 deg */
    {   1059,  15872 }, /* 120:  0.1373 deg */
    {    923,  15936 }, /* 121:  0.1202 deg */
    {    788,  16000 }, /* 122:  0.1030 deg */
    {    654,  16064 }, /* 123:  0.0858 deg */
    {    521,  16128 }, /* 124:  0.0687 deg */
    {    389,  16192 }, /* 125:  0.0515 deg */
    {    258,  16256 }, /* 126:  0.0343 deg */
    {    128,  16320 }, /* 127:  0.0172 deg */
    {      0,  16383 }, /* 128:  0.0000 deg */
    {   -127,  16448 }, /* 129: -0.0172 deg */
    {   -254,  16512 }, /* 130: -0.0343 deg */
    {   -380,  16576 }, /* 131: -0.0515 deg */
    {   -505,  16640 }, /* 132: -0.0687 deg */
    {   -629,  16704 }, /* 133: -0.0858 deg */
    {   -752,  16768 }, /* 134: -0.1030 deg */
    {   -874,  16832 }, /* 135: -0.1202 deg */
    {   -996,  16896 }, /* 136: -0.1373 deg */
    {  -1116,  16960 }, /* 137: -0.1545 deg */
    {  -1235,  17024 }, /* 138: -0.1717 deg */
    {  -1354,  17088 }, /* 139: -0.1888 deg */
    {  -1471,  17152 }, /* 140: -0.2060 deg */
    {  -1588,  17216 }, /* 141: -0.2232 deg */
    {  -1704,  17280 }, /* 142: -0.2403 deg */
    {  -1819,  17344 }, /* 143: -0.2575 deg */
    {  -1933,  17408 }, /* 144: -0.2747 deg */
    {  -2047,  17472 }, /* 145: -0.2918 deg */
    {  -2159,  17536 }, /* 146: -0.3090 deg */
    {  -2271,  17600 }, /* 147: -0.3262 deg */
    {  -2382,  17664 }, /* 148: -0.3433 deg */
    {  -2492,  17728 }, /* 149: -0.3605 deg */
    {  -2602,  17792 }, /* 150: -0.3777 deg */
    {  -2710,  17856 }, /* 151: -0.3948 deg */
    {  -2818,  17920 }, /* 152: -0.4120 deg */
    {  -2925,  17984 }, /* 153: -0.4292 deg */
    {  -3031,  18048 }, /* 154: -0.4463 deg */
    {  -3137,  18112 }, /* 155: -0.4635 deg */
    {  -3242,  18176 }, /* 156: -0.4807 deg */
    {  -3346,  18240 }, /* 157: -0.4978 deg */
    {  -3449,  18304 }, /* 158: -0.5150 deg */
    {  -3552,  18368 }, /* 159: -0.5322 deg */
    {  -3654,  18432 }, /* 160: -0.5493 deg */
    {  -3755,  18496 }, /* 161: -0.5665 deg */
    {  -3856,  18560 }, /* 162: -0.5836 deg */
    {  -3955,  18625 }, /* 163: -0.6008 deg */
    {  -4055,  18689 }, /* 164: -0.6180 deg */
    {  -4153,  18753 }, /* 165: -0.6351 deg */
    {  -4251,  18817 }, /* 166: -0.6523 deg */
    {  -4348,  18881 }, /* 167: -0.6695 deg */
    {  -4445,  18945 }, /* 168: -0.6866 deg */
    {  -4541,  19009 }, /* 169: -0.7038 deg */
    {  -4636,  19073 }, /* 170: -0.7210 deg */
    {  -4731,  19137 }, /* 171: -0.7381 deg */
    {  -4825,  19201 }, /* 172: -0.7553 deg */
    {  -4918,  19265 }, /* 173: -0.7725 deg */
    {  -5011,  19329 }, /* 174: -0.7896 deg */
    {  -5103,  19393 }, /* 175: -0.8068 deg */
    {  -5194,  19458 }, /* 176: -0.8240 deg */
    {  -5285,  19522 }, /* 177: -0.8411 deg */
    {  -5376,  19586 }, /* 178: -0.8583 deg */
    {  -5466,  19650 }, /* 179: -0.8755 deg */
    {  -5555,  19714 }, /* 180: -0.8926 deg */
    {  -5643,  19778 }, /* 181: -0.9098 deg */
    {  -5731,  19842 }, /* 182: -0.9270 deg */
    {  -5819,  19906 }, /* 183: -0.9441 deg */
    {  -5906,  19970 }, /* 184: -0.9613 deg */
    {  -5992,  20034 }, /* 185: -0.9785 deg */
    {  -6078,  20099 }, /* 186: -0.9956 deg */
    {  -6163,  20163 }, /* 187: -1.0128 deg */
    {  -6248,  20227 }, /* 188: -1.0300 deg */
    {  -6333,  20291 }, /* 189: -1.0471 deg */
    {  -6416,  20355 }, /* 190: -1.0643 deg */
    {  -6499,  20419 }, /* 191: -1.0815 deg */
    {  -6582,  20483 }, /* 192: -1.0986 deg */
    {  -6664,  20547 }, /* 193: -1.1158 deg */
    {  -6746,  20612 }, /* 194: -1.1330 deg */
    {  -6827,  20676 }, /* 195: -1.1501 deg */
    {  -6908,  20740 }, /* 196: -1.1673 deg */
    {  -6988,  20804 }, /* 197: -1.1845 deg */
    {  -7068,  20868 }, /* 198: -1.2016 deg */
    {  -7147,  20932 }, /* 199: -1.2188 deg */
    {  -7226,  20996 }, /* 200: -1.2360 deg */
    {  -7304,  21061 }, /* 201: -1.2531 deg */
    {  -7382,  21125 }, /* 202: -1.2703 deg */
    {  -7459,  21189 }, /* 203: -1.2875 deg */
    {  -7536,  21253 }, /* 204: -1.3046 deg */
    {  -7612,  21317 }, /* 205: -1.3218 deg */
    {  -7688,  21381 }, /* 206: -1.3390 deg */
    {  -7764,  21446 }, /* 207: -1.3561 deg */
    {  -7839,  21510 }, /* 208: -1.3733 deg */
    {  -7914,  21574 }, /* 209: -1.3905 deg */
    {  -7988,  21638 }, /* 210: -1.4076 deg */
    {  -8061,  21702 }, /* 211: -1.4248 deg */
    {  -8135,  21766 }, /* 212: -1.4420 deg */
    {  -8208,  21831 }, /* 213: -1.4591 deg */
    {  -8280,  21895 }, /* 214: -1.4763 deg */
    {  -8352,  21959 }, /* 215: -1.4935 deg */
    {  -8424,  22023 }, /* 216: -1.5106 deg */
    {  -8495,  22087 }, /* 217: -1.5278 deg */
    {  -8566,  22152 }, /* 218: -1.5450 deg */
    {  -8636,  22216 }, /* 219: -1.5621 deg */
    {  -8706,  22280 }, /* 220: -1.5793 deg */
    {  -8776,  22344 }, /* 221: -1.5965 deg */
    {  -8845,  22408 }, /* 222: -1.6136 deg */
    {  -8914,  22473 }, /* 223: -1.6308 deg */
    {  -8983,  22537 }, /* 224: -1.6479 deg */
    {  -9051,  22601 }, /* 225: -1.6651 deg */
    {  -9118,  22665 }, /* 226: -1.6823 deg */
    {  -9186,  22730 }, /* 227: -1.6994 deg */
    {  -9253,  22794 }, /* 228: -1.7166 deg */
    {  -9319,  22858 }, /* 229: -1.7338 deg */
    {  -9385,  22922 }, /* 230: -1.7509 deg */
    {  -9451,  22987 }, /* 231: -1.7681 deg */
    {  -9517,  23051 }, /* 232: -1.7853 deg */
    {  -9582,  23115 }, /* 233: -1.8024 deg */
    {  -9647,  23179 }, /* 234: -1.8196 deg */
    {  -9711,  23244 }, /* 235: -1.8368 deg */
    {  -9775,  23308 }, /* 236: -1.8539 deg */
    {  -9839,  23372 }, /* 237: -1.8711 deg */
    {  -9902,  23436 }, /* 238: -1.8883 deg */
    {  -9965,  23501 }, /* 239: -1.9054 deg */
    { -10028,  23565 }, /* 240: -1.9226 deg */
    { -10090,  23629 }, /* 241: -1.9398 deg */
    { -10152,  23693 }, /* 242: -1.9569 deg */
    { -10214,  23758 }, /* 243: -1.9741 deg */
    { -10275,  23822 }, /* 244: -1.9913 deg */
    { -10336,  23886 }, /* 245: -2.0084 deg */
    { -10397,  23951 }, /* 246: -2.0256 deg */
    { -10457,  24015 }, /* 247: -2.0428 deg */
    { -10517,  24079 }, /* 248: -2.0599 deg */
    { -10577,  24144 }, /* 249: -2.0771 deg */
    { -10637,  24208 }, /* 250: -2.0943 deg */
    { -10696,  24272 }, /* 251: -2.1114 deg */
    { -10755,  24336 }, /* 252: -2.1286 deg */
    { -10813,  24401 }, /* 253: -2.1458 deg */
    { -10871,  24465 }, /* 254: -2.1629 deg */
    { -10929,  24529 }  /* 255: -2.1801 deg */
};

#endif
